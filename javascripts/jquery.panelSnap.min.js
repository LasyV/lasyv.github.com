"function"!=typeof Object.create&&(Object.create=function(e){function n(){}return n.prototype=e,new n}),function(e,n,t){var a="panelSnap",r="plugin_"+a,o={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollInterval:0,scrollOffset:0,init:function(n,i){var a=this;if(a.container=i,a.$container=e(i),a.$eventContainer=a.$container,a.$snapContainer=a.$container,a.$container.is("body")){a.$eventContainer=e(t),a.$snapContainer=e(t.documentElement);var r=navigator.userAgent;~r.indexOf("WebKit")&&(a.$snapContainer=e("body"))}if(a.updateScrollInterval(),a.options=e.extend(!0,{},e.fn.panelSnap.options,n),a.bind(),a.options.$menu!==!1&&e(".active",a.options.$menu).length>0)e(".active",a.options.$menu).click();else{var o=a.getPanel(":first");a.activatePanel(o)}return a},bind:function(){var t=this;t.bindProxied(t.$eventContainer,"scrollstop",t.scrollStop),t.bindProxied(t.$eventContainer,"mousewheel",t.mouseWheel),t.bindProxied(t.$eventContainer,"mousedown",t.mouseDown),t.bindProxied(t.$eventContainer,"mouseup",t.mouseUp),t.bindProxied(e(n),"resizestop",t.resize),t.options.keyboardNavigation.enabled&&t.bindProxied(e(n),"keydown",t.keyDown,t.$eventContainer),t.options.$menu!==!1&&t.bindProxied(e(t.options.$menu),"click",t.captureMenuClick,t.options.menuSelector)},bindProxied:function(n,t,i,a){var r=this;a="string"==typeof a?a:null,n.on(t+r.options.namespace,a,e.proxy(function(e){return i.call(r,e)},r))},destroy:function(){var t=this;t.$eventContainer.off(t.options.namespace),e(n).off(t.options.namespace),t.options.$menu!==!1&&e(t.options.menuSelector,t.options.$menu).off(t.options.namespace),t.$container.removeData(r)},scrollStop:function(e){var n=this;if(e.stopPropagation(),!n.isMouseDown&&!n.isSnapping){n.updateScrollInterval();var o,t=n.$snapContainer.scrollTop(),i=t-n.scrollOffset,a=n.$container[0].scrollHeight-n.scrollInterval,r=n.getPanel().length-1;o=n.enabled&&i<-n.options.directionThreshold&&i>-n.scrollInterval?Math.floor(t/n.scrollInterval):n.enabled&&i>n.options.directionThreshold&&i<n.scrollInterval?Math.ceil(t/n.scrollInterval):Math.round(t/n.scrollInterval),o=Math.max(0,Math.min(o,r));var s=n.getPanel(":eq("+o+")");return n.enabled?void(n.getPanelsInViewport().length<2||(0>=t||t>=a?(n.activatePanel(s),n.scrollOffset=0>=t?0:a):n.snapToPanel(s))):void(s.is(n.getPanel(".active"))||n.activatePanel(s))}},getPanelsInViewport:function(){var t=this,i=e(n),a={top:i.scrollTop()};a.bottom=a.top+i.height();var r=t.getPanel().filter(function(n,t){var i=e(t),r=i.offset();return r.bottom=r.top+i.outerHeight(),!(a.bottom<r.top||a.top>r.bottom)});return r},mouseWheel:function(){var n=this;n.isSnapping&&(n.scrollOffset=n.$snapContainer.scrollTop(),n.$container.stop(!0),n.isSnapping=!1)},mouseDown:function(){var n=this;n.isMouseDown=!0},mouseUp:function(e){var n=this;n.isMouseDown=!1,n.scrollOffset!==n.$snapContainer.scrollTop()&&n.scrollStop(e)},keyDown:function(e){var n=this,t=n.options.keyboardNavigation;if(n.enabled)if(n.isSnapping){if(e.which==t.previousPanelKey||e.which==t.nextPanelKey)return e.preventDefault(),!1}else switch(e.which){case t.previousPanelKey:e.preventDefault(),n.snapTo("prev",t.wrapAround);break;case t.nextPanelKey:e.preventDefault(),n.snapTo("next",t.wrapAround)}},resize:function(){var n=this;if(n.updateScrollInterval(),n.enabled){var t=n.getPanel(".active");n.snapToPanel(t)}},captureMenuClick:function(n){var t=this,i=e(n.currentTarget).data("panel"),a=t.getPanel('[data-panel="'+i+'"]');return t.snapToPanel(a),!1},snapToPanel:function(e){var n=this;if(e.jquery){n.isSnapping=!0,n.options.onSnapStart.call(n,e),n.$container.trigger("panelsnap:start",[e]);var t=0;t=n.$container.is("body")?e.offset().top-n.options.offset:n.$snapContainer.scrollTop()+e.position().top-n.options.offset,n.$snapContainer.stop(!0).animate({scrollTop:t},n.options.slideSpeed,n.options.easing,function(){n.scrollOffset=n.$snapContainer.scrollTop()+50,n.isSnapping=!1,n.options.onSnapFinish.call(n,e),n.$container.trigger("panelsnap:finish",[e]),n.activatePanel(e)})}},activatePanel:function(n){var t=this;if(t.getPanel(".active").removeClass("active"),n.addClass("active"),t.options.$menu!==!1){var i=t.options.menuSelector+".active";e(i,t.options.$menu).removeClass("active");var a='[data-panel="'+n.data("panel")+'"]',r=t.options.menuSelector+a,o=e(r,t.options.$menu);o.addClass("active")}t.options.onActivate.call(t,n),t.$container.trigger("panelsnap:activate",[n])},getPanel:function(n){var t=this;return"undefined"==typeof n&&(n=""),e(t.options.panelSelector+n,t.$container)},snapTo:function(e,n){var t=this;"boolean"!=typeof n&&(n=!0);var r,i=t.getPanel(),a=i.index(t.getPanel(".active"));switch(e){case"prev":r=i.eq(a-1),1>a&&!n&&(r=[]);break;case"next":r=i.eq(a+1),r.length<1&&n&&(r=i.filter(":first"));break;case"first":r=i.filter(":first");break;case"last":r=i.filter(":last")}r.length>0&&t.snapToPanel(r)},getScrollInterval:function(){return this.$container.is("body")?n.innerHeight:this.$container.height()},updateScrollInterval:function(){this.scrollInterval=this.getScrollInterval()},enable:function(){var e=this;e.scrollOffset=e.$snapContainer.scrollTop(),e.enabled=!0},disable:function(){var e=this;e.enabled=!1},toggle:function(){var e=this;e.enabled?e.disable():e.enable()}};e.fn[a]=function(n){var t=Array.prototype.slice.call(arguments);return this.each(function(){var i=e.data(this,r);if("object"!=typeof n&&"init"!==n&&n){if(!i)return void e.error("Plugin is not initialized for this object yet.");if(!i[n])return void e.error("Method "+n+" does not exist on jQuery.panelSnap.");var a=n;n=t.slice(1),i[a].apply(i,n)}else{if(i)return void e.error("Plugin is already initialized for this object.");"init"===n&&(n=t[1]||{}),i=Object.create(o).init(n,this),e.data(this,r,i)}})},e.fn[a].options={$menu:!1,menuSelector:"a",panelSelector:"> section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,easing:"linear",offset:50,keyboardNavigation:{enabled:!1,nextPanelKey:40,previousPanelKey:38,wrapAround:!0}}}(jQuery,window,document),function(e){e.event.special.scrollstart={enabled:!0,setup:function(){function o(e,n){e.type=n?"scrollstart":"scrollstop",t.trigger(e)}var a,r,n=this,t=e(n);t.data("scrollwatch",!0),t.on("touchstart",function(){r=!0}),t.on("touchleave touchcancel touchend",function(){r=!1,setTimeout(function(){clearTimeout(a)},50)}),t.on("touchmove scroll",function(n){r||e.event.special.scrollstart.enabled&&(e.event.special.scrollstart.scrolling||(e.event.special.scrollstart.scrolling=!0,o(n,!0)),clearTimeout(a),a=setTimeout(function(){e.event.special.scrollstart.scrolling=!1,o(n,!1)},50))})}},e.event.special.scrollstop={setup:function(){var n=this,t=e(n);t.data("scrollwatch")||e(this).on("scrollstart",function(){})}}}(jQuery),function(e){e.event.special.resizestart={enabled:!0,setup:function(){function r(e,n){e.type=n?"resizestart":"resizestop",t.trigger(e)}var a,n=this,t=e(n);t.data("resizewatch",!0),t.on("resize",function(n){e.event.special.resizestart.enabled&&(e.event.special.resizestart.resizing||(e.event.special.resizestart.resizing=!0,r(n,!0)),clearTimeout(a),a=setTimeout(function(){e.event.special.resizestart.resizing=!1,r(n,!1)},200))})}},e.event.special.resizestop={setup:function(){var n=this,t=e(n);t.data("resizewatch")||e(this).on("resizestart",function(){})}}}(jQuery),function(e){function i(n){var t=n||window.event,i=[].slice.call(arguments,1),a=0,o=0,s=0;return n=e.event.fix(t),n.type="mousewheel",t.wheelDelta&&(a=t.wheelDelta/120),t.detail&&(a=-t.detail/3),s=a,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(s=0,o=-1*a),void 0!==t.wheelDeltaY&&(s=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(o=-1*t.wheelDeltaX/120),i.unshift(n,a,o,s),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var t=n.length;t;)e.event.fixHooks[n[--t]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],i,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);